<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1337px" preserveAspectRatio="none" style="width:772px;height:1337px;background:#FFFFFE;" version="1.1" viewBox="0 0 772 1337" width="772px" zoomAndPan="magnify"><defs><filter height="300%" id="f1ordq7o0exyps" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="Menlo" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="126" x="318.5" y="26.708">メッセージ一覧</text><rect fill="#FFFFFF" filter="url(#f1ordq7o0exyps)" height="309.4922" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="27" y="210.6484"/><rect fill="#FFFFFF" filter="url(#f1ordq7o0exyps)" height="117.5313" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="27" y="592.4063"/><rect fill="#FFFFFF" filter="url(#f1ordq7o0exyps)" height="449.9922" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="27" y="782.2031"/><rect fill="#FFFFFF" filter="url(#f1ordq7o0exyps)" height="108.5625" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="220" y="411.5781"/><rect fill="#FFFFFF" filter="url(#f1ordq7o0exyps)" height="117.5313" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="220" y="592.4063"/><rect fill="#FFFFFF" filter="url(#f1ordq7o0exyps)" height="449.9922" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="220" y="782.2031"/><rect fill="#FFFFFF" filter="url(#f1ordq7o0exyps)" height="190.9297" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="425" y="210.6484"/><rect fill="#FFFFFF" filter="url(#f1ordq7o0exyps)" height="59.2656" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="425" y="636.6719"/><rect fill="#FFFFFF" filter="url(#f1ordq7o0exyps)" height="218.9297" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="425" y="899.8672"/><rect fill="#FFFFFF" filter="url(#f1ordq7o0exyps)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="598" y="358.4453"/><rect fill="#FFFFFF" filter="url(#f1ordq7o0exyps)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="598" y="1032.5313"/><rect fill="#FFFFFF" filter="url(#f1ordq7o0exyps)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="598" y="1090.7969"/><rect fill="#FFFFFF" filter="url(#f1ordq7o0exyps)" height="59.2656" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="682" y="239.7813"/><rect fill="#FFFFFF" filter="url(#f1ordq7o0exyps)" height="59.2656" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="682" y="929"/><rect fill="#FFFFFE" filter="url(#f1ordq7o0exyps)" height="59.2656" style="stroke: #000000; stroke-width: 2.0;" width="210" x="143" y="432.7422"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="32" x2="32" y1="121.25" y2="1250.1953"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="225" x2="225" y1="413.0938" y2="1250.1953"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="430" x2="430" y1="121.25" y2="1250.1953"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="603" x2="603" y1="121.25" y2="1250.1953"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="687" x2="687" y1="121.25" y2="1250.1953"/><text fill="#000000" font-family="Menlo" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="42" x="8" y="117.9482">管理者</text><ellipse cx="32" cy="47.9531" fill="#FEFECE" filter="url(#f1ordq7o0exyps)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M32,55.9531 L32,82.9531 M19,63.9531 L45,63.9531 M32,82.9531 L19,97.9531 M32,82.9531 L45,97.9531 " fill="none" filter="url(#f1ordq7o0exyps)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="Menlo" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="42" x="8" y="1262.1904">管理者</text><ellipse cx="32" cy="1275.4922" fill="#FEFECE" filter="url(#f1ordq7o0exyps)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M32,1283.4922 L32,1310.4922 M19,1291.4922 L45,1291.4922 M32,1310.4922 L19,1325.4922 M32,1310.4922 L45,1325.4922 " fill="none" filter="url(#f1ordq7o0exyps)" style="stroke: #A80036; stroke-width: 2.0;"/><rect fill="#99FF99" filter="url(#f1ordq7o0exyps)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="140" x="153" y="1249.1953"/><text fill="#000000" font-family="Menlo" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="126" x="160" y="1269.1904">メッセージ一覧画面</text><rect fill="#FEFECE" filter="url(#f1ordq7o0exyps)" height="46.5938" style="stroke: #A80036; stroke-width: 1.5;" width="118" x="369" y="69.6563"/><text fill="#000000" font-family="Menlo" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="96" x="380" y="89.6514">«Controller»</text><text fill="#000000" font-family="Menlo" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="104" x="376" y="105.9482">AdminMessages</text><rect fill="#FEFECE" filter="url(#f1ordq7o0exyps)" height="46.5938" style="stroke: #A80036; stroke-width: 1.5;" width="118" x="369" y="1249.1953"/><text fill="#000000" font-family="Menlo" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="96" x="380" y="1269.1904">«Controller»</text><text fill="#000000" font-family="Menlo" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="104" x="376" y="1285.4873">AdminMessages</text><rect fill="#FEFECE" filter="url(#f1ordq7o0exyps)" height="46.5938" style="stroke: #A80036; stroke-width: 1.5;" width="70" x="566" y="69.6563"/><text fill="#000000" font-family="Menlo" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="56" x="573" y="89.6514">«Model»</text><text fill="#000000" font-family="Menlo" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="56" x="573" y="105.9482">Message</text><rect fill="#FEFECE" filter="url(#f1ordq7o0exyps)" height="46.5938" style="stroke: #A80036; stroke-width: 1.5;" width="70" x="566" y="1249.1953"/><text fill="#000000" font-family="Menlo" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="56" x="573" y="1269.1904">«Model»</text><text fill="#000000" font-family="Menlo" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="56" x="573" y="1285.4873">Message</text><rect fill="#FEFECE" filter="url(#f1ordq7o0exyps)" height="46.5938" style="stroke: #A80036; stroke-width: 1.5;" width="70" x="650" y="69.6563"/><text fill="#000000" font-family="Menlo" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="56" x="657" y="89.6514">«Model»</text><text fill="#000000" font-family="Menlo" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="32" x="669" y="105.9482">User</text><rect fill="#FEFECE" filter="url(#f1ordq7o0exyps)" height="46.5938" style="stroke: #A80036; stroke-width: 1.5;" width="70" x="650" y="1249.1953"/><text fill="#000000" font-family="Menlo" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="56" x="657" y="1269.1904">«Model»</text><text fill="#000000" font-family="Menlo" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="32" x="669" y="1285.4873">User</text><rect fill="#FFFFFF" filter="url(#f1ordq7o0exyps)" height="309.4922" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="27" y="210.6484"/><rect fill="#FFFFFF" filter="url(#f1ordq7o0exyps)" height="117.5313" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="27" y="592.4063"/><rect fill="#FFFFFF" filter="url(#f1ordq7o0exyps)" height="449.9922" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="27" y="782.2031"/><rect fill="#FFFFFF" filter="url(#f1ordq7o0exyps)" height="108.5625" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="220" y="411.5781"/><rect fill="#FFFFFF" filter="url(#f1ordq7o0exyps)" height="117.5313" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="220" y="592.4063"/><rect fill="#FFFFFF" filter="url(#f1ordq7o0exyps)" height="449.9922" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="220" y="782.2031"/><rect fill="#FFFFFF" filter="url(#f1ordq7o0exyps)" height="190.9297" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="425" y="210.6484"/><rect fill="#FFFFFF" filter="url(#f1ordq7o0exyps)" height="59.2656" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="425" y="636.6719"/><rect fill="#FFFFFF" filter="url(#f1ordq7o0exyps)" height="218.9297" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="425" y="899.8672"/><rect fill="#FFFFFF" filter="url(#f1ordq7o0exyps)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="598" y="358.4453"/><rect fill="#FFFFFF" filter="url(#f1ordq7o0exyps)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="598" y="1032.5313"/><rect fill="#FFFFFF" filter="url(#f1ordq7o0exyps)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="598" y="1090.7969"/><rect fill="#FFFFFF" filter="url(#f1ordq7o0exyps)" height="59.2656" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="682" y="239.7813"/><rect fill="#FFFFFF" filter="url(#f1ordq7o0exyps)" height="59.2656" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="682" y="929"/><rect fill="#EEEEEE" filter="url(#f1ordq7o0exyps)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="757" x="3" y="151.8164"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="760" y1="151.8164" y2="151.8164"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="760" y1="154.8164" y2="154.8164"/><rect fill="#EEEEEE" filter="url(#f1ordq7o0exyps)" height="23.1328" style="stroke: #000000; stroke-width: 2.0;" width="178" x="292.5" y="141.25"/><text fill="#000000" font-family="Menlo" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="156" x="298.5" y="157.3169">メッセージ一覧画面を表示</text><polygon fill="#A80036" points="413,206.6484,423,210.6484,413,214.6484,417,210.6484" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="37" x2="419" y1="210.6484" y2="210.6484"/><text fill="#000000" font-family="Menlo" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="156" x="44" y="190.4497">メッセージ一覧画面を開く</text><text fill="#000000" font-family="Menlo" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="64" x="44" y="205.5825">:index()</text><polygon fill="#A80036" points="670,235.7813,680,239.7813,670,243.7813,674,239.7813" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="435" x2="676" y1="239.7813" y2="239.7813"/><text fill="#000000" font-family="Menlo" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="65" x="442" y="234.7153">管理者か？</text><rect fill="#FFFFFF" filter="url(#f1ordq7o0exyps)" height="40.2656" style="stroke: #000000; stroke-width: 2.0;" width="107" x="647" y="247.7813"/><polygon fill="#EEEEEE" points="647,247.7813,716,247.7813,716,254.7813,706,264.7813,647,264.7813,647,247.7813" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="Menlo" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="24" x="660" y="261.8481">ref</text><text fill="#000000" font-family="Menlo" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="99" x="653" y="280.8481">管理者チェック!</text><polygon fill="#A80036" points="446,295.0469,436,299.0469,446,303.0469,442,299.0469" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="440" x2="686" y1="299.0469" y2="299.0469"/><polygon fill="#A80036" points="586,354.4453,596,358.4453,586,362.4453,590,358.4453" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="435" x2="592" y1="358.4453" y2="358.4453"/><text fill="#000000" font-family="Menlo" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="69" x="442" y="323.1138">limit30件</text><text fill="#000000" font-family="Menlo" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="91" x="442" y="338.2466">配信日新しい順</text><text fill="#000000" font-family="Menlo" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="130" x="442" y="353.3794">メッセージ一覧を取得</text><polygon fill="#A80036" points="446,368.4453,436,372.4453,446,376.4453,442,372.4453" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="440" x2="602" y1="372.4453" y2="372.4453"/><polygon fill="#A80036" points="308,397.5781,298,401.5781,308,405.5781,304,401.5781" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="302" x2="429" y1="401.5781" y2="401.5781"/><text fill="#000000" font-family="Menlo" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="104" x="314" y="396.5122">メッセージを渡す</text><rect fill="#99FF99" filter="url(#f1ordq7o0exyps)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="140" x="153" y="380.4453"/><text fill="#000000" font-family="Menlo" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="126" x="160" y="400.4404">メッセージ一覧画面</text><path d="M143,432.7422 L220,432.7422 L220,439.7422 L210,449.7422 L143,449.7422 L143,432.7422 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="59.2656" style="stroke: #000000; stroke-width: 2.0;" width="210" x="143" y="432.7422"/><text fill="#000000" font-family="Menlo" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="32" x="158" y="445.8091">loop</text><text fill="#000000" font-family="Menlo" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="102" x="235" y="444.9526">[メッセージの個数]</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="230" x2="272" y1="471.0078" y2="471.0078"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="272" x2="272" y1="471.0078" y2="484.0078"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="231" x2="272" y1="484.0078" y2="484.0078"/><polygon fill="#A80036" points="241,480.0078,231,484.0078,241,488.0078,237,484.0078" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="Menlo" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="104" x="237" y="465.9419">メッセージを表示</text><polygon fill="#A80036" points="43,516.1406,33,520.1406,43,524.1406,39,520.1406" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="37" x2="224" y1="520.1406" y2="520.1406"/><text fill="#000000" font-family="Menlo" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="130" x="49" y="515.0747">メッセージ一覧を表示</text><rect fill="#EEEEEE" filter="url(#f1ordq7o0exyps)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="757" x="3" y="548.707"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="760" y1="548.707" y2="548.707"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="760" y1="551.707" y2="551.707"/><rect fill="#EEEEEE" filter="url(#f1ordq7o0exyps)" height="23.1328" style="stroke: #000000; stroke-width: 2.0;" width="113" x="325" y="538.1406"/><text fill="#000000" font-family="Menlo" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="91" x="331" y="554.2075">メッセージ作成</text><polygon fill="#A80036" points="208,588.4063,218,592.4063,208,596.4063,212,592.4063" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="37" x2="214" y1="592.4063" y2="592.4063"/><text fill="#000000" font-family="Menlo" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="169" x="44" y="587.3403">メッセージ作成ボタンを押下</text><polygon fill="#A80036" points="413,632.6719,423,636.6719,413,640.6719,417,636.6719" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="230" x2="419" y1="636.6719" y2="636.6719"/><text fill="#000000" font-family="Menlo" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="156" x="237" y="616.4731">メッセージ作成画面を開く</text><text fill="#000000" font-family="Menlo" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="48" x="237" y="631.606">:new()</text><rect fill="#FFFFFF" filter="url(#f1ordq7o0exyps)" height="40.2656" style="stroke: #000000; stroke-width: 2.0;" width="273" x="366" y="644.6719"/><polygon fill="#EEEEEE" points="366,644.6719,435,644.6719,435,651.6719,425,661.6719,366,661.6719,366,644.6719" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="Menlo" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="24" x="379" y="658.7388">ref</text><text fill="#000000" font-family="Menlo" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="91" x="459" y="677.7388">メッセージ作成</text><polygon fill="#A80036" points="241,691.9375,231,695.9375,241,699.9375,237,695.9375" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="235" x2="429" y1="695.9375" y2="695.9375"/><polygon fill="#A80036" points="43,705.9375,33,709.9375,43,713.9375,39,709.9375" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="37" x2="224" y1="709.9375" y2="709.9375"/><rect fill="#EEEEEE" filter="url(#f1ordq7o0exyps)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="757" x="3" y="738.5039"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="760" y1="738.5039" y2="738.5039"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="760" y1="741.5039" y2="741.5039"/><rect fill="#EEEEEE" filter="url(#f1ordq7o0exyps)" height="23.1328" style="stroke: #000000; stroke-width: 2.0;" width="113" x="325" y="727.9375"/><text fill="#000000" font-family="Menlo" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="91" x="331" y="744.0044">メッセージ削除</text><polygon fill="#A80036" points="208,778.2031,218,782.2031,208,786.2031,212,782.2031" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="37" x2="214" y1="782.2031" y2="782.2031"/><text fill="#000000" font-family="Menlo" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="169" x="44" y="777.1372">メッセージ削除ボタンを押下</text><polygon fill="#A80036" points="48,822.4688,38,826.4688,48,830.4688,44,826.4688" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="42" x2="219" y1="826.4688" y2="826.4688"/><text fill="#000000" font-family="Menlo" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="130" x="54" y="806.27">確認ダイヤログを表示</text><text fill="#000000" font-family="Menlo" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="156" x="54" y="821.4028">「本当に削除しますか？」</text><polygon fill="#A80036" points="208,851.6016,218,855.6016,208,859.6016,212,855.6016" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="37" x2="214" y1="855.6016" y2="855.6016"/><text fill="#000000" font-family="Menlo" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="91" x="44" y="850.5356">「はい」を押下</text><polygon fill="#A80036" points="413,895.8672,423,899.8672,413,903.8672,417,899.8672" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="230" x2="419" y1="899.8672" y2="899.8672"/><text fill="#000000" font-family="Menlo" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="130" x="237" y="879.6685">メッセージを削除する</text><text fill="#000000" font-family="Menlo" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="80" x="237" y="894.8013">:destroy()</text><polygon fill="#A80036" points="670,925,680,929,670,933,674,929" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="435" x2="676" y1="929" y2="929"/><text fill="#000000" font-family="Menlo" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="65" x="442" y="923.9341">管理者か？</text><rect fill="#FFFFFF" filter="url(#f1ordq7o0exyps)" height="40.2656" style="stroke: #000000; stroke-width: 2.0;" width="107" x="647" y="937"/><polygon fill="#EEEEEE" points="647,937,716,937,716,944,706,954,647,954,647,937" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="Menlo" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="24" x="660" y="951.0669">ref</text><text fill="#000000" font-family="Menlo" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="99" x="653" y="970.0669">管理者チェック!</text><polygon fill="#A80036" points="446,984.2656,436,988.2656,446,992.2656,442,988.2656" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="440" x2="686" y1="988.2656" y2="988.2656"/><polygon fill="#A80036" points="586,1028.5313,596,1032.5313,586,1036.5313,590,1032.5313" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="435" x2="592" y1="1032.5313" y2="1032.5313"/><text fill="#000000" font-family="Menlo" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="143" x="442" y="1012.3325">対象のメッセージを取得</text><text fill="#000000" font-family="Menlo" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="144" x="442" y="1027.4653">:find(params[:id])</text><polygon fill="#A80036" points="446,1042.5313,436,1046.5313,446,1050.5313,442,1046.5313" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="440" x2="602" y1="1046.5313" y2="1046.5313"/><polygon fill="#A80036" points="586,1086.7969,596,1090.7969,586,1094.7969,590,1090.7969" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="435" x2="592" y1="1090.7969" y2="1090.7969"/><text fill="#000000" font-family="Menlo" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="104" x="442" y="1070.5981">メッセージを削除</text><text fill="#000000" font-family="Menlo" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="64" x="442" y="1085.731">:destroy</text><polygon fill="#A80036" points="446,1100.7969,436,1104.7969,446,1108.7969,442,1104.7969" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="440" x2="602" y1="1104.7969" y2="1104.7969"/><polygon fill="#A80036" points="241,1114.7969,231,1118.7969,241,1122.7969,237,1118.7969" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="235" x2="429" y1="1118.7969" y2="1118.7969"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="230" x2="272" y1="1147.9297" y2="1147.9297"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="272" x2="272" y1="1147.9297" y2="1160.9297"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="231" x2="272" y1="1160.9297" y2="1160.9297"/><polygon fill="#A80036" points="241,1156.9297,231,1160.9297,241,1164.9297,237,1160.9297" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="Menlo" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="143" x="237" y="1142.8638">メッセージ一覧を再描画</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="230" x2="272" y1="1205.1953" y2="1205.1953"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="272" x2="272" y1="1205.1953" y2="1218.1953"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="231" x2="272" y1="1218.1953" y2="1218.1953"/><polygon fill="#A80036" points="241,1214.1953,231,1218.1953,241,1222.1953,237,1218.1953" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="Menlo" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="104" x="237" y="1184.9966">「削除しました」</text><text fill="#000000" font-family="Menlo" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="104" x="237" y="1200.1294">フラッシュを表示</text><polygon fill="#A80036" points="43,1228.1953,33,1232.1953,43,1236.1953,39,1232.1953" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="37" x2="224" y1="1232.1953" y2="1232.1953"/><!--MD5=[ff982453c5b3c2d4ddaa967b828ce0a8]
@startuml
skinparam defaultFontName Menlo
skinparam backgroundColor #FFFFFE

title メッセージ一覧

actor 管理者 as admin
participant メッセージ一覧画面 as messages_index #99FF99
participant AdminMessages as AdminMessages <<Controller>>
participant Message as Message <<Model>>
participant User as User <<Model>>

== メッセージ一覧画面を表示 ==

admin -> AdminMessages: メッセージ一覧画面を開く\n:index()
activate admin
activate AdminMessages

AdminMessages -> User: 管理者か？
activate User
ref over User: 管理者チェック!
User - -> AdminMessages
deactivate User

AdminMessages -> Message: limit30件\n配信日新しい順\nメッセージ一覧を取得
activate Message
Message - -> AdminMessages
deactivate Message

create messages_index
AdminMessages - -> messages_index: メッセージを渡す
deactivate AdminMessages
activate messages_index

loop メッセージの個数
  messages_index -> messages_index: メッセージを表示
end

messages_index - -> admin: メッセージ一覧を表示
deactivate messages_index
deactivate admin

== メッセージ作成 ==

admin -> messages_index: メッセージ作成ボタンを押下
activate admin
activate messages_index

messages_index -> AdminMessages: メッセージ作成画面を開く\n:new()
activate AdminMessages

ref over AdminMessages, Message: メッセージ作成
AdminMessages - -> messages_index
deactivate AdminMessages

messages_index - -> admin
deactivate messages_index
deactivate admin

== メッセージ削除 ==

admin -> messages_index: メッセージ削除ボタンを押下
activate admin
activate messages_index

messages_index - -> admin: 確認ダイヤログを表示\n「本当に削除しますか？」
admin -> messages_index: 「はい」を押下


messages_index -> AdminMessages: メッセージを削除する\n:destroy()
activate AdminMessages

AdminMessages -> User: 管理者か？
activate User
ref over User: 管理者チェック!
User - -> AdminMessages
deactivate User

AdminMessages -> Message: 対象のメッセージを取得\n:find(params[:id])
activate Message
Message - -> AdminMessages
deactivate Message

AdminMessages -> Message: メッセージを削除\n:destroy
activate Message
Message - -> AdminMessages
deactivate Message

AdminMessages - -> messages_index
deactivate AdminMessages

messages_index -> messages_index: メッセージ一覧を再描画
messages_index -> messages_index: 「削除しました」\nフラッシュを表示

messages_index - -> admin
deactivate messages_index
deactivate admin
@enduml

PlantUML version 1.2020.12(Sat Jun 06 19:54:15 JST 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: ja
Country: JP
--></g></svg>